%% Snowflake to MySQL Connectivity Validation via Proxy - PRODUCTION

%% This diagram illustrates the validation process for ensuring connectivity from Snowflake to the Production MySQL database through a proxy, with all acceptance criteria and validation steps.

flowchart LR
    %% Components & Process Flow
    SF["üèîÔ∏è Snowflake"] -.->|"‚úÖ Via Proxy"| PROXY[("üõ°Ô∏è Prod Proxy")]
    SF -.->|"‚ùå Blocked"| DIRECT[("‚ùå Direct")]
    PROXY --> MYSQL[("üóÑÔ∏è MySQL")]
    DIRECT -.->|"‚ùå No Access"| MYSQL
    
    %% Validation Flow
    START(("üöÄ Start")) --> CONFIG{"‚öôÔ∏è Config"} --> TEST{"üîå Test"} --> CONN_OK{"‚úÖ OK?"}
    CONN_OK -->|"Yes"| RW{"üìñüìù R/W"} -->|"‚úÖ"| STABLE{"üîÑ Stable"}
    STABLE -->|"‚úÖ"| DOC{"üìã Doc"} --> SEC{"üîê Security"} --> READY{"üéØ Ready?"}
    READY -->|"‚úÖ"| MONITOR{"üìä Monitoring"} --> SUCCESS(("‚úÖ Go Live"))
    
    %% Failure paths
    CONN_OK -->|"No"| FAIL(("‚ùå Failed"))
    RW -->|"‚ùå"| FAIL
    STABLE -->|"‚ùå"| FAIL
    SEC -->|"‚ùå"| FAIL
    READY -->|"‚ö†Ô∏è"| FAIL
    MONITOR -->|"‚ùå"| FAIL
           
    %% Styling
    classDef success fill:#d4edda,stroke:#155724,stroke-width:2px,color:#155724
    classDef failure fill:#f8d7da,stroke:#721c24,stroke-width:2px,color:#721c24
    classDef process fill:#e2e3e5,stroke:#383d41,stroke-width:2px,color:#383d41
    classDef component fill:#cce5ff,stroke:#0056b3,stroke-width:3px,color:#0056b3
    classDef blocked fill:#ffe6cc,stroke:#cc5500,stroke-width:2px,color:#cc5500
    classDef security fill:#e1f5fe,stroke:#0277bd,stroke-width:3px,color:#0277bd
    classDef monitoring fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#7b1fa2
    
    %% Apply styles
    class SUCCESS success
    class FAIL failure
    class START,CONFIG,TEST,DOC process
    class CONN_OK,RW,STABLE,READY process
    class SEC security
    class MONITOR monitoring
    class SF,PROXY,MYSQL component
    class DIRECT blocked

%% ## Key Points - PRODUCTION ENVIRONMENT

%% ### Connection Requirements
%% - **All traffic must flow through the production proxy endpoint**
%% - **Direct public database access is strictly prohibited**
%% - **Connection must be reliable, stable, and secure**
%% - **Enhanced monitoring and alerting required**

%% ### Validation Steps
%% 1. **Configure** Snowflake to connect via production proxy endpoint
%% 2. **Test** basic connectivity through proxy with production credentials
%% 3. **Validate** read/write operations work correctly with production data
%% 4. **Confirm** connection stability over extended time periods
%% 5. **Security Review** - audit logs, access controls, encryption
%% 6. **Document** all findings, performance metrics, and operational procedures
%% 7. **Setup Monitoring** - alerts, dashboards, performance tracking, health checks

%% ### Success Criteria - PRODUCTION
%% - ‚úÖ Reliable connection established with SLA compliance
%% - ‚úÖ No direct public DB access used (strictly enforced)
%% - ‚úÖ Read/write operations functional with production workloads
%% - ‚úÖ Connection remains stable under production load
%% - ‚úÖ Security review passed with all controls verified
%% - ‚úÖ Comprehensive documentation for operations team
%% - ‚úÖ Monitoring and alerting configured and tested
%% - ‚úÖ Health checks and performance dashboards operational

%% ### Documentation Requirements - PRODUCTION
%% - Production connection configuration and credentials management
%% - Performance metrics, SLA requirements, and capacity planning
%% - Security controls, audit trails, and compliance requirements
%% - Operational runbooks for troubleshooting and maintenance
%% - Disaster recovery and failover procedures
%% - Production readiness checklist and go-live approval